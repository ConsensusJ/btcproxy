<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="406px" preserveAspectRatio="none" style="width:669px;height:406px;" version="1.1" viewBox="0 0 669 406" width="669px" zoomAndPan="magnify"><defs><filter height="300%" id="fdn6b7g4ei66s" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.0"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="4.0" dy="4.0" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="51" x2="51" y1="65.4883" y2="332.9727"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="199" x2="199" y1="65.4883" y2="332.9727"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="387.5" x2="387.5" y1="65.4883" y2="332.9727"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="488.5" x2="488.5" y1="65.4883" y2="332.9727"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="616" x2="616" y1="65.4883" y2="332.9727"/><rect fill="#FEFECE" filter="url(#fdn6b7g4ei66s)" height="30.4883" style="stroke: #A80036; stroke-width: 1.5;" width="82" x="8" y="30"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="68" x="15" y="50.5352">ClientApp</text><rect fill="#FEFECE" filter="url(#fdn6b7g4ei66s)" height="30.4883" style="stroke: #A80036; stroke-width: 1.5;" width="82" x="8" y="331.9727"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="68" x="15" y="352.5078">ClientApp</text><rect fill="#FEFECE" filter="url(#fdn6b7g4ei66s)" height="30.4883" style="stroke: #A80036; stroke-width: 1.5;" width="98" x="148" y="30"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="84" x="155" y="50.5352">omniproxyd</text><rect fill="#FEFECE" filter="url(#fdn6b7g4ei66s)" height="30.4883" style="stroke: #A80036; stroke-width: 1.5;" width="98" x="148" y="331.9727"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="84" x="155" y="352.5078">omniproxyd</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="83" x="343.5" y="62.5352">proxy cache</text><path d="M370,13 C370,3 388,3 388,3 C388,3 406,3 406,13 L406,39 C406,49 388,49 388,49 C388,49 370,49 370,39 L370,13 " fill="#FEFECE" filter="url(#fdn6b7g4ei66s)" style="stroke: #000000; stroke-width: 1.5;"/><path d="M370,13 C370,23 388,23 388,23 C388,23 406,23 406,13 " fill="none" style="stroke: #000000; stroke-width: 1.5;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="83" x="343.5" y="345.5078">proxy cache</text><path d="M370,358.4609 C370,348.4609 388,348.4609 388,348.4609 C388,348.4609 406,348.4609 406,358.4609 L406,384.4609 C406,394.4609 388,394.4609 388,394.4609 C388,394.4609 370,394.4609 370,384.4609 L370,358.4609 " fill="#FEFECE" filter="url(#fdn6b7g4ei66s)" style="stroke: #000000; stroke-width: 1.5;"/><path d="M370,358.4609 C370,368.4609 388,368.4609 388,368.4609 C388,368.4609 406,368.4609 406,358.4609 " fill="none" style="stroke: #000000; stroke-width: 1.5;"/><rect fill="#FEFECE" filter="url(#fdn6b7g4ei66s)" height="30.4883" style="stroke: #A80036; stroke-width: 1.5;" width="88" x="442.5" y="30"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="74" x="449.5" y="50.5352">omnicored</text><rect fill="#FEFECE" filter="url(#fdn6b7g4ei66s)" height="30.4883" style="stroke: #A80036; stroke-width: 1.5;" width="88" x="442.5" y="331.9727"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="74" x="449.5" y="352.5078">omnicored</text><rect fill="#FEFECE" filter="url(#fdn6b7g4ei66s)" height="30.4883" style="stroke: #A80036; stroke-width: 1.5;" width="87" x="571" y="30"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="73" x="578" y="50.5352">Blockchain</text><rect fill="#FEFECE" filter="url(#fdn6b7g4ei66s)" height="30.4883" style="stroke: #A80036; stroke-width: 1.5;" width="87" x="571" y="331.9727"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="73" x="578" y="352.5078">Blockchain</text><polygon fill="#A80036" points="499.5,92.7988,489.5,96.7988,499.5,100.7988,495.5,96.7988" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="493.5" x2="615.5" y1="96.7988" y2="96.7988"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="104" x="505.5" y="92.0566">P2P state update</text><polygon fill="#A80036" points="210,122.1094,200,126.1094,210,130.1094,206,126.1094" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="204" x2="487.5" y1="126.1094" y2="126.1094"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="88" x="216" y="121.3672">0MQ message</text><line style="stroke: #A80036; stroke-width: 1.0;" x1="199" x2="241" y1="155.4199" y2="155.4199"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="241" x2="241" y1="155.4199" y2="168.4199"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="200" x2="241" y1="168.4199" y2="168.4199"/><polygon fill="#A80036" points="210,164.4199,200,168.4199,210,172.4199,206,168.4199" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="175" x="206" y="150.6777">aggregation and calculation</text><polygon fill="#A80036" points="376,193.7305,386,197.7305,376,201.7305,380,197.7305" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="199" x2="382" y1="197.7305" y2="197.7305"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="72" x="206" y="192.9883">cache store</text><polygon fill="#A80036" points="187,223.041,197,227.041,187,231.041,191,227.041" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="51" x2="193" y1="227.041" y2="227.041"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="114" x="58" y="222.2988">JSON-RPC request</text><polygon fill="#A80036" points="376,252.3516,386,256.3516,376,260.3516,380,256.3516" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="199" x2="382" y1="256.3516" y2="256.3516"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="67" x="206" y="251.6094">cache read</text><polygon fill="#A80036" points="210,281.6621,200,285.6621,210,289.6621,206,285.6621" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="204" x2="387" y1="285.6621" y2="285.6621"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="88" x="216" y="280.9199">read response</text><polygon fill="#A80036" points="62,310.9727,52,314.9727,62,318.9727,58,314.9727" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="56" x2="198" y1="314.9727" y2="314.9727"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="124" x="68" y="310.2305">JSON-RPC response</text><!--MD5=[9848b2e295ecc7adfddf1b72dff6a5a6]
@startuml
participant ClientApp      as Client
participant omniproxyd     as Proxy
database    "proxy cache"  as Cache
participant omnicored      as Core
participant Blockchain     as Chain

Chain -> Core : P2P state update
Core -> Proxy : 0MQ message
Proxy -> Proxy : aggregation and calculation
Proxy -> Cache : cache store
Client -> Proxy : JSON-RPC request
Proxy -> Cache : cache read
Proxy <- Cache : read response
Client <- Proxy : JSON-RPC response

@enduml

PlantUML version 1.2019.12(Sun Nov 03 02:24:54 PST 2019)
(APACHE source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Java Version: 17.0.7+7
Operating System: Mac OS X
Default Encoding: UTF-8
Language: en
Country: US
--></g></svg>